// nbayes | Jannis R | v2.0.2

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s;s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,s.nbayes=t()}}(function(){return function t(s,i,r){function n(o,a){if(!i[o]){if(!s[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(e)return e(o,!0);var f=Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=i[o]={exports:{}};s[o][0].call(c.exports,function(t){var i=s[o][1][t];return n(i?i:t)},c,c.exports,t,s,i,r)}return i[o].exports}for(var e="function"==typeof require&&require,o=0;r.length>o;o++)n(r[o]);return n}({1:[function(t,s){s.exports={init:function(){return this._i={},this.total=0,this},set:function(t,s){return""===t?this:(this._i[t]=s,this)},get:function(t){return this._i[t]||0},increase:function(t,s){return""===t?this:(this._i[t]?this._i[t]+=s:this._i[t]=s,this.total+=s,this)},addBagOfWords:function(t){var s;for(s in t._i)t._i.hasOwnProperty(s)&&this.increase(s,t.get(s));return this},addWords:function(t){var s,i;for(s=0,i=t.length;i>s;s++)this.increase(t[s],1);return this}}},{}],2:[function(t,s){Vocabulary=t("./Vocabulary.js"),BagOfWords=t("./BagOfWords.js"),s.exports={init:function(){return this.classes={},this.documents=0,this.vocabulary=Object.create(Vocabulary).init(),this},learn:function(t,s){var i=this._bagOfWords(s);return this.classes[t]?(this.classes[t].words.addBagOfWords(i),this.classes[t].documents++):this.classes[t]={words:i,documents:1},this.documents++,this.vocabulary.addBagOfWords(i),this},probabilities:function(t){var s,i=this._bagOfWords(t),r={};for(s in this.classes)r[s]=this._pD(s,i);return r},classify:function(t){var s,i,r=this._bagOfWords(t),n=-(1/0),e=null;for(s in this.classes)i=this._pD(s,r),i>n&&(n=i,e=s);return e},_pD:function(t,s){var i,r,n=this.classes[t].documents/this.documents;for(i in s._i)r=(this.classes[t].words.get(i)+1)/(this.classes[t].words.total+this.vocabulary.size),n*=Math.pow(r,s._i[i]);return n},_bagOfWords:function(t){var s=Object.create(BagOfWords).init();return s.addWords(t.replace(/[^\w\s]/g," ").split(/\s+/))}}},{"./BagOfWords.js":1,"./Vocabulary.js":3}],3:[function(t,s){s.exports={init:function(){return this._w={},this.size=0,this},has:function(t){return this._w.hasOwnProperty(t)&&!!this._w[t]},add:function(t){return""===t?this:(this._w[t]||(this._w[t]=!0,this.size++),this)},addBagOfWords:function(t){var s;for(s in t._i)t._i.hasOwnProperty(s)&&this.add(s);return this}}},{}]},{},[2])(2)});